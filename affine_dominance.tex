\documentclass{amsart}
\usepackage{amsmath,amssymb,latexsym,color,ulem}
\usepackage[margin=1in]{geometry}
\usepackage{tikz}
\usepackage[bookmarks=true, bookmarksopen=true, bookmarksdepth=3,bookmarksopenlevel=2, colorlinks=true, linkcolor=blue, citecolor=blue, filecolor=blue, menucolor=blue, urlcolor=blue]{hyperref}

\usepackage[draft]{say}
\newcommand{\sayDR}[1]{\say[DR]{\color{red}{\bf DR:}\;#1}}
\newcommand{\saySS}[1]{\say[SS]{\color{blue}{\bf SS:}\;#1}}

\newtheorem{theorem}{Theorem}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{question}{Question}

\numberwithin{theorem}{section}

\newcommand{\bfc}{\boldsymbol{c}}
\newcommand{\bfe}{\boldsymbol{e}}
\newcommand{\bfg}{\boldsymbol{g}}
\newcommand{\bfn}{\boldsymbol{n}}
\newcommand{\bfr}{\boldsymbol{r}}
\newcommand{\bfu}{\boldsymbol{u}}
\newcommand{\bfx}{\boldsymbol{x}}
\newcommand{\bfy}{\boldsymbol{y}}

\newcommand{\cA}{\mathcal{A}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}

\newcommand{\fp}{\mathfrak{p}}

\newcommand{\CC}{\mathbb{C}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\TT}{\mathbb{T}}
\newcommand{\ZZ}{\mathbb{Z}}

\newcommand{\ol}[1]{{\overline{#1}}}
\newcommand{\vv}[1]{{{}^\vee \! #1}}

\newcommand{\Aut}{\operatorname{Aut}}
\newcommand{\beps}{{\boldsymbol{\varepsilon}}}
\newcommand{\Col}{\operatorname{Col}}
\newcommand{\diag}{\operatorname{diag}}
\newcommand{\dpt}{\operatorname{dp}}
\newcommand{\hgt}{\operatorname{ht}}
\newcommand{\Id}{\operatorname{Id}}
\newcommand{\into}{\hookrightarrow}
\newcommand{\obeta}{{\overline{\beta}}}
\newcommand{\oi}{{\overline{\imath}}}
\newcommand{\ot}{{\overline{t}}}
\newcommand{\rsh}{{\operatorname{rsh}}}
\newcommand{\sh}{{\operatorname{sh}}}
\newcommand{\sgn}{{\operatorname{sgn}}}
\newcommand{\WA}{{W\!\!A}}
\newcommand{\wt}{{\operatorname{wt}}}

\title{Dominance Regions for Affine Cluster Algebras}

\author{Dylan Rupel}
\author{Salvatore Stella}

\begin{document}
  \begin{abstract}
    We study the dominance order for $\bfg$-vectors in affine cluster algebras.
  \end{abstract}
  \maketitle

  \section{Introduction}
  A lot of the same first paragraph we had before.


  \section{Lattice Mutations and Linear Inequalities}
  Let $B=(b_{ij})$ be an $n\times n$ skew-symmetrizable integer matrix, i.e. there exists a diagonal integer matrix $D=\diag(d_1,\ldots,d_n)$ so that $DB$ is skew-symmetric, more precisely we have $d_i b_{ij}=-d_j b_{ji}$.
  Write $\Col(B)$ for the span of the columns of $B$ inside $\RR^n$ and $\Col^+(B)$ for their non-negative span.
  Define $\Col_\ZZ(B)$ and $\Col^+_\ZZ(B)$ analogously over the integers.

  The matrix $B$ is \emph{acyclic} if there is no sequence $i_1,\ldots,i_m,i_{m+1}=i_1$ so that $b_{i_\ell i_{\ell+1}}>0$ for $1\le\ell\le m$.
  This condition is naturally interpreted in terms of an associated quiver $Q_B$ with $n$ vertices and an arrow $i\to j$ whenever $b_{ji}>0$ (if we need to use representation theory at any point we'll have to change this to be $\gcd(b_{ij},b_{ji})$ arrows $i\to j$).
  Indeed, this is precisely the condition that $Q_B$ has no oriented cycles.
  In the case when $B$ is acyclic, there exists a labeling $\{k_1,\ldots,k_n\}=\{1,\ldots,n\}$ so that $\ell<\ell'$ implies $b_{k_{\ell'} k_\ell}\ge 0$.
  The sequence $(k_1,\ldots,k_n)$ (resp. $(k_n,\ldots,k_1)$) is then said to be \emph{source-adapted} (resp. \emph{sink-adapted}) since the condition implies $k_1$ is a source and $k_n$ is a sink in $Q_B$.

  We work with principal coefficients.
  Write $\tilde{B}=(b_{ij})$ for the $2n\times n$ matrix obtained from $B$ by adjoining an $n\times n$ identity matrix as the last $n$ rows.
  Call the matrix $B$ the \emph{principal part} of $\tilde{B}$.

  For $b\in\ZZ$, write $[b]_+=max(b,0)$.
  Given a sign $\varepsilon\in\{\pm1\}$ and $k\in\{1,\ldots,n\}$, define a $2n\times 2n$ matrix $E_{k,\varepsilon}=(e_{ij})$ with
  \begin{equation}
    \label{eq:left mutation matrix}
    e_{ij}=\begin{cases} 1 & \text{if $i=j\ne k$;}\\ -1 & \text{if $i=j=k$;}\\ [\varepsilon b_{ik}]_+ & \text{if $i\ne j=k$;}\\ 0 & \text{otherwise;} \end{cases}
  \end{equation}
  and an $n\times n$ matrix $F_{k,\varepsilon}=(f_{ij})$ with
  \begin{equation}
    \label{eq:right mutation matrix}
    f_{ij}=\begin{cases} 1 & \text{if $k\ne i=j$;}\\ -1 & \text{if $k=i=j$;}\\ [-\varepsilon b_{kj}]_+ & \text{if $k=i\ne j$;}\\ 0 & \text{otherwise.} \end{cases}
  \end{equation}
  Observe that $E^2_{k,\varepsilon}=\Id$ and $F^2_{k,\varepsilon}=\Id$ for any $k$ and any choice of $\varepsilon$.
  \begin{lemma}
    For $\varepsilon\in\{\pm1\}$ and $k\in\{1,\ldots,n\}$, we have $E_{k,-\varepsilon}E_{k,\varepsilon}=I_n+\varepsilon B^{\bullet k}$ and $E_{k,\varepsilon}-E_{k,-\varepsilon}=\varepsilon B^{\bullet k}$.
  \end{lemma}
  \begin{proof}
    This is immediate from the equality $\varepsilon b_{ij}=[\varepsilon b_{ij}]_+-[-\varepsilon b_{ij}]_+$.
  \end{proof}

  The index $k\in\{1,\ldots,n\}$ also determines a new matrix $\mu_k \tilde{B}=(b'_{ij})$ given by
  \begin{equation}
    \label{eq:matrix mutation}
    b'_{ij}=\begin{cases} -b_{ij} & \text{if $i=k$ or $j=k$;}\\ b_{ij}+[b_{ik}]_+b_{kj}+b_{ik}[-b_{kj}]_+ & \text{otherwise.} \end{cases}
  \end{equation}
    One easily observes that the principal part of $\mu_k \tilde{B}$ is again skew-symmetrizable using the same matrix $D$.
  \begin{remark}
    Note that $\mu_k \tilde{B}=E_{k,\varepsilon} \tilde{B} F_{k,\varepsilon}$ for $\varepsilon=\pm 1$, the case $\varepsilon=1$ being obvious from the definitions and the case $\varepsilon=-1$ following from the identity $b_{ij}=[b_{ij}]_+-[-b_{ij}]_+$.
  \end{remark}

  To record sequences of these matrix mutations, we introduce the labeled $n$-regular rooted tree $\TT_n$ with root vertex $t_0$ and associate $2n\times n$ matrices $\tilde{B}^t$ for $t\in\TT_n$ satisfying:
  \begin{itemize}
    \item $\tilde{B}^{t_0}=\tilde{B}$;
    \item if $t,t'\in\TT_n$ are joined by an edge labeled $k$, then $\tilde{B}^{t'}=\mu_k \tilde{B}^t$.
  \end{itemize}

  For $t\in\TT_n$ and $k\in\{1,\ldots,n\}$, define $\phi^t_k:\RR^{2n}\to\RR^{2n}$ as the piecewise-linear map
  \[
    \phi^t_k(\lambda)=\begin{cases} E^t_{k,+}\lambda & \text{if $\lambda_k\ge0$;}\\ E^t_{k,-}\lambda & \text{if $\lambda_k<0$;} \end{cases}
  \]
  where the entries of $E^t_{k,\varepsilon}$ are given by \eqref{eq:left mutation matrix} with $b^t_{ij}$ in place of $b_{ij}$.
  We leave it as an exercise for the reader to check that $(\phi^t_k)^{-1}=\phi^{t'}_k$ whenever $t,t'\in\TT_n$ are joined by an edge labeled $k$.
  \begin{lemma}
    Suppose $t,t'\in\TT_n$ are joined by an edge labeled $k$.
    If $\mu\in\lambda+\Col(\tilde{B}^t)$, then $\phi^t_k(\mu)\in\phi^t_k(\lambda)+\Col(\tilde{B}^{t'})$.
  \end{lemma}
  \begin{proof}
    Suppose $\mu=\lambda+\tilde{B}^t\alpha$ for some $\alpha\in\RR^n$.
    Let $\varepsilon$ (resp. $\varepsilon'$) be such that $\phi^t_k(\mu)=E^t_{k,\varepsilon}\mu$ (resp. $\phi^t_k(\lambda)=E^t_{k,\varepsilon'}\lambda$).
    Then 
    \[
      \phi^t_k(\mu)=E^t_{k,\varepsilon}\mu=E^t_{k,\varepsilon}(\lambda+\tilde{B}^t\alpha)=E^t_{k,\varepsilon}\lambda + E^t_{k,\varepsilon} \tilde{B}^t F^t_{k,\varepsilon} F^t_{k,\varepsilon}\alpha=E^t_{k,\varepsilon}\lambda + \tilde{B}^{t'} F^t_{k,\varepsilon}\alpha.
    \]
    If $\varepsilon'=\varepsilon$, this is equal to $\phi^t_k(\lambda) + \tilde{B}^{t'} F^t_{k,\varepsilon}\alpha$ and so $\phi^t_k(\mu)\in\phi^t_k(\lambda)+\Col(\tilde{B}^{t'})$.
    Otherwise, 
    \[
      E^t_{k,\varepsilon}\lambda=E^t_{k,\varepsilon'}\lambda+\varepsilon(\tilde{B}^t)^{\bullet k}\lambda=\phi^t_k(\lambda)-\varepsilon(\tilde{B}^{t'})^{\bullet k}\lambda=\phi^t_k(\lambda)-\varepsilon \tilde{B}^{t'} \lambda_k \mathbf{e}_k
    \]
    and again we see that $\phi^t_k(\mu)\in\phi^t_k(\lambda)+\Col(\tilde{B}^{t'})$.
  \end{proof}

  For $t\in\TT_n$, define the piecewise-linear automorphisms $\phi_t:\RR^{2n}\to\RR^{2n}$ by
  \begin{itemize}
    \item $\phi_{t_0}=\Id$;
    \item if $t,t'\in\TT_n$ are joined by an edge labeled $k$, then $\phi_{t'}=\phi^t_k \phi_t$.
  \end{itemize}

  
  For $\lambda\in\RR^n$, define the \emph{$B_t$-cone} $\cC_t(\lambda):=\lambda+B_t\cdot\RR_{\ge0}^n$ pointed at $\lambda$.
  \begin{definition}
    For $\lambda\in\RR^n$, define the \emph{dominance region} 
    \[
      \cP(\lambda) = \bigcap_{t\in\TT_n} \phi_t^{-1} \cC_t(\phi_t \lambda).
    \]
    When $\mu\in\cP(\lambda)$, we say \emph{$\lambda$ dominates $\mu$}.
  \end{definition}
  Our goal is to understand the dominance polytopes $\cP(\lambda)$ for all $\lambda$.
  \begin{lemma}
    The sets $\cP(\lambda)$ are polytopes.
  \end{lemma}


  \begin{lemma}
    \label{le:transformed inequalities}
    Let $A$ be an invertible $n\times n$ matrix.
    Under the left action of $A$, say $A\bfx=\bfy$ for $\bfx,\bfy\in\RR^n$, the region inside $\RR^n$ defined by the inequality $\langle\bfn,\bfx-\lambda\rangle\le t$ with $\lambda,\bfn\in\RR^n$ and $t\in\RR$ is transformed into the region defined by the inequality $\langle A^{-T}\bfn,\bfy-A\lambda\rangle\le t$.
  \end{lemma}
  \begin{proof}
    This is immediate from the equalities
    \[
      \langle\bfn,\bfx-\lambda\rangle=\bfn^T(\bfx-\lambda)=\bfn^TA^{-1}A(\bfx-\lambda)=(A^{-T}\bfn)^T(A\bfx-A\lambda)=\langle A^{-T}\bfn,\bfy-A\lambda\rangle.
    \]
  \end{proof}


  \section{Affine Types}
  Associated to an acyclic skew-symmetrizable matrix $B=(b_{ij})$ there is a Cartan matrix $A=(a_{ij})$ with $a_{ii}=2$ and $a_{ij}=-|b_{ij}|$.
  We say that $B$ is of affine type if its associated Cartan matrix gives rise to an affine Dynkin diagram.
  In this section, we focus on understanding the dominance polytopes for affine matrices $B$.

  Let $B=(b_{ij})$ be an $n\times n$ skew-symmetrizable matrix of affine type with associated Cartan matrix $A=(a_{ij})$.
  
  \begin{lemma}
    One column is always in the positive span of the other columns.
  \end{lemma}

  \begin{definition}
    Describe imaginary $\bfg$-vectors and those corresponding to cluster monomials.
  \end{definition}

  \begin{lemma}
    Let $\lambda\in\ZZ^n$ correspond to a cluster monomial.
    Then $\cP(\lambda)=\{\lambda\}$.
  \end{lemma}
  \begin{proof}
    An explicit sequence of sink/source mutations should suffice.
  \end{proof}

  \section{Attempts at understanding $\tau$}

  Suppose the principal part $B$ of $\tilde{B}$ is acyclic.
  Given a sequence of signs $\varepsilon=(\varepsilon_1,\ldots,\varepsilon_n)$, define a quiver $Q_{B,\varepsilon}$ from $Q_B$ by removing all arrows starting at vertex $i$ whenever $\varepsilon_i=-1$.
  For $1\le j\le n$, define $\cP_j(Q_{B,\varepsilon})$ as the set of paths in $Q_{B,\varepsilon}$ starting at vertex $j$.
  Elements of $\cP_j(Q_{B,\varepsilon})$ are sequences of vertices $(p_1,\ldots,p_r)$ with $p_1=j$ and $b_{p_{t+1}p_t}>0$ for $1\le t\le r-1$.
  Given a path $p\in\cP_j(Q_{B,\varepsilon})$, a vertex $i\in Q_0$, and a sequence of signs $\varepsilon=(\varepsilon_1,\ldots,\varepsilon_n)$, set
  \[
    \wt_{i,\varepsilon}(p):=-b_{ip_r}^{(1-\delta_{ip_r})(1+\varepsilon_{p_r})/2}\prod_{t=1}^{r-1} b_{p_{t+1}p_t},
  \]
  where the prefactor of $b_{ip_r}$ is omitted if $i=p_r$ or $\varepsilon_{p_r}=-1$.
  \begin{lemma}
    Suppose $B$ is acyclic with source-adapted sequence $k_1,\ldots,k_n$.
    Consider $t_1,\ldots,t_n\in\TT_n$ so that $t_{\ell-1}$ is joined to $t_\ell$ by an edge in $\TT_n$ labeled by $k_\ell$ for $1\le\ell\le n$.
    For a sequence of signs $\varepsilon=(\varepsilon_1,\ldots,\varepsilon_n)$, the product $E^{t_{n-1}}_{k_n,\varepsilon_{k_n}}\cdots E^{t_0}_{k_1,\varepsilon_{k_1}}$ is given by $\tau=(\tau_{ij})$ with
    \begin{equation}
      \label{eq:tropical twist}
      \tau_{ij}=\sum_{p\in\cP_j(Q_{B,\varepsilon})}^* \wt_{i,\varepsilon}(p),
    \end{equation}
    where the $*$ indicates that the summation includes the trivial path at $j$ only if $i\le j$ when $\varepsilon_j=1$ and only if $i=j$ when $\varepsilon_j=-1$.

    Then $\phi_{t_n}$ is the following piecewise-linear automorphism:
    \begin{equation}
      \label{eq:tropical twist}
      \text{(This is going to require casework with the possible signs, we'll really only need it for imaginary $\bfg$-vectors though.)}
    \end{equation}
    The answer comes from selectively ``turning off'' arrows out of chosen vertices as indicated by choosing $\varepsilon_i=-1$.
  \end{lemma}
  \begin{proof}
    We prove the following modified formula for the product $E^{t_{n-1}}_{k_n,\varepsilon_{k_n}}\cdots E^{t_{m-1}}_{k_m,\varepsilon_{k_m}}$ for $1\le m\le n$ by reverse induction on $m$.
    Writing this matrix as $\tau^{(m)}=(\tau^{(m)}_{ij})$, we claim that
    \begin{equation}
      \label{eq:tropical twist}
      \tau^{(m)}_{ij}=\begin{cases} \sum\limits_{p\in\cP_j(Q_{B,\varepsilon}^{(m)})}^* \wt_{i,\varepsilon}(p) & \text{if $j=k_\ell$ with $m\le\ell$;}\\ \delta_{ij} & \text{otherwise;} \end{cases}
    \end{equation}
    where $Q_{B,\varepsilon}^{(m)}$ is the full subquiver of $Q_{B,\varepsilon}$ on vertices $k_m,\ldots,k_n$.
    Note that the weight function follows the same definition as above.

    Since the sequence $k_1,\ldots,k_n$ is source-adapted, the matrix $E^{t_{m-1}}_{k_m,\varepsilon_m}$, for $1\le m\le n$, has entries $e^{(m)}_{ij}$ given by
    \begin{equation}
      \label{eq:source mutation matrix}
      e^{(m)}_{ij}=\begin{cases} 1 & \text{if $i=j\ne k_m$;}\\ -1 & \text{if $i=j=k_m$;}\\ [-\varepsilon_{k_m} b_{ik_m}]_+ & \text{if $i=k_\ell$, $j=k_m$, $\ell<m$;}\\ [\varepsilon_{k_m} b_{ik_m}]_+ & \text{if $i=k_\ell$, $j=k_m$, $m<\ell$;}\\ 0 & \text{otherwise;} \end{cases}
    \end{equation}
    the entries for $\ell<m$ picking up the sign from the prior matrix mutations.

    For $m=n$, it is clear that $\tau^{(n)}_{ij}=e^{(n)}_{ij}$ for $j\ne k_n$.
    If $\varepsilon_{k_n}=1$, there is only the trivial path $(k_n)$ in $Q_{B,\varepsilon}^{(n)}$ and we have $\tau^{(n)}_{ik_n}=-b_{ik_n}$, which agrees with $e^{(n)}_{ik_n}$ in this case.
    Otherwise, $\varepsilon_{k_n}=-1$ and the sum is empty for $i\ne k_n$ giving $\tau^{(n)}_{ik_n}=0=e^{(n)}_{ik_n}$ or only takes the trivial path for $i=k_n$ giving $\tau^{(n)}_{k_nk_n}=-1=e^{(n)}_{k_nk_n}$.
    This gives the base of the induction.

    Now suppose the matrix $\tau^{(m)}$ is given as above.
    Using equation \eqref{eq:source mutation matrix}, we need to check that 
    \begin{equation}
      \label{eq:twist matrix recursion}
      \tau^{(m-1)}_{ij}=\sum\limits_{p=1}^n \tau^{(m)}_{ip} e^{(m-1)}_{pj}=\begin{cases} \tau^{(m)}_{ij} & \text{if $j\ne k_{m-1}$;}\\ -\tau^{(m)}_{ik_{m-1}} + \sum\limits_{\ell=1}^{m-2} \tau^{(m)}_{i k_\ell} [-\varepsilon_{k_{m-1}} b_{k_\ell k_{m-1}}]_+ + \sum\limits_{\ell=m}^n \tau^{(m)}_{i k_\ell} [\varepsilon_{k_{m-1}} b_{k_\ell k_{m-1}}]_+ & \text{if $j=k_{m-1}$;}\end{cases}
    \end{equation}
    is computed by the formula above.
    First observe that $\tau^{(m-1)}_{ij}=\tau^{(m)}_{ij}=\delta_{ij}$ if $j=k_\ell$ with $\ell<m-1$.  
    Second observe that $\cP_j(Q_{B,\varepsilon}^{(m-1)})=\cP_j(Q_{B,\varepsilon}^{(m)})$ whenever $j=k_\ell$ with $m\le\ell$, i.e. the purported formulas for $\tau^{(m-1)}_{ij}$ and $\tau^{(m)}_{ij}$ agree in this case.
    Therefore it remains to show that
    \[
      \tau^{(m-1)}_{i k_{m-1}}=-\delta_{ik_{m-1}} + \sum\limits_{\ell=1}^{m-2} \delta_{i k_\ell} [-\varepsilon_{k_{m-1}} b_{k_\ell k_{m-1}}]_+ + \sum\limits_{\ell=m}^n \sum\limits_{p\in\cP_{k_\ell}(Q_{B,\varepsilon}^{(m)})}^* \wt_{i,\varepsilon}(p) [\varepsilon_{k_{m-1}} b_{k_\ell k_{m-1}}]_+
    \]
    agrees with the desired expression.
    Indeed, for $\varepsilon_{k_{m-1}}=-1$ this reduces to $\tau^{(m-1)}_{i k_{m-1}}=-\delta_{i k_{m-1}}$ which matches with the desired expression in this case.
    Then assuming $\varepsilon_{k_{m-1}}=1$, we are comparing with
    \[
      \tau^{(m-1)}_{i k_{m-1}}=-\delta_{ik_{m-1}} - \sum\limits_{\ell=1}^{m-2} \delta_{i k_\ell} b_{k_\ell k_{m-1}} + \sum\limits_{\ell=m}^n \sum\limits_{p\in\cP_{k_\ell}(Q_{B,\varepsilon}^{(m)})}^* \wt_{i,\varepsilon}(p) b_{k_\ell k_{m-1}}.
    \]
    But observe that the final summation above contributes the nontrivial paths to the summation $\sum\limits_{p\in\cP_{k_{m-1}}(Q_{B,\varepsilon}^{(m-1)})}^* \wt_{i,\varepsilon}(p)$ while the first two terms above give the contribution, depending on $i$, corresponding to the trivial path $(k_{m-1})$.
  \end{proof}
  \begin{question}
    Is the trace of $\tau$ an invariant of matrix mutations?  P.A.: It is invariant under sink and source mutations since the trace is a class function and these mutations simply enact a cyclic shift in the factors of $\tau$.
  \end{question}


\section{Iterated Mutations}

  Let $B=(b_{ij})$ denote an acyclic $n\times n$ exchange matrix.
  Write $Q_B$ for the corresponding quiver, here $b_{ij}>0$ means there is an arrow from $j$ to $i$ in $Q$.
  \sayDR{Note that $Q_B$ is only recording the orientations of edges.}
  Without loss of generality, we assume $1,\ldots,n$ is a source adapted sequence for $Q_B$, i.e. vertex $1$ is a source and vertex $n$ is a sink in $Q$.
  This implies $B$ has positive entries below the diagonal.
  \sayDR{I changed back because of a stupid discrepancy between signs.}
  Define vectors $\bfc^{(r)}_k\in\ZZ^n$ for $1\le k\le n$ and $r\in\ZZ$ recursively as follows:
  \begin{itemize}
    \item for $0\le r\le n$, we have $\bfc^{(r)}_k=-\bfe_k$ for $1\le k\le r$ and $\bfc^{(r)}_k=\bfe_k$ for $r<k\le n$, where $\bfe_k$ is the standard basis vector;
    \item for $r=ns+\ell>n$ with $1 \le \ell \le n$, we have $\bfc^{(r)}_k=\begin{cases} -\bfc^{(r-1)}_k & \text{if $k=\ell$;}\\ \bfc^{(r-1)}_k-b_{\ell k}\bfc^{(r-1)}_\ell & \text{if $k>\ell$;}\\ \bfc^{(r-1)}_k+b_{\ell k}\bfc^{(r-1)}_\ell & \text{if $k<\ell$.} \end{cases}$
    \item for $r=ns+\ell\le 0$ with $1 \le \ell \le n$, we have $\bfc^{(r-1)}_k=\begin{cases} -\bfc^{(r)}_k & \text{if $k=\ell$;}\\ \bfc^{(r)}_k-b_{\ell k}\bfc^{(r)}_\ell & \text{if $k>\ell$;}\\ \bfc^{(r)}_k+b_{\ell k}\bfc^{(r)}_\ell & \text{if $k<\ell$.} \end{cases}$
  \end{itemize}

  For $r\in\ZZ$ and $1\le k\le n$, write $r\equiv_n k$ if $n|(r-k)$ and $r\not\equiv_n k$ otherwise.
  \begin{lemma}
    \label{lem:tropical signs}
    Assume $B$ is not finite-type.
    \begin{itemize}
      \item For $r\in\ZZ_{>n}$, the vector $\bfc^{(r)}_k$ is non-negative if $r\equiv_n k$ and non-positive when $r\not\equiv_n k$.
      \item For $r\in\ZZ_{<0}$, the vector $\bfc^{(r)}_k$ is non-negative if $r\not\equiv_n k$ and non-positive when $r\equiv_n k$.
    \end{itemize}
  \end{lemma}
  \begin{proof}
    Induction
  \end{proof}

  \begin{lemma}
    Consider $r=ns+\ell$ with $1\le\ell\le n$.
    The limiting rays $\lim_{s\to\infty} \RR_{\ge0}\bfc^{(r)}_k$ and $\lim_{s\to-\infty} \RR_{\ge0}\bfc^{(r)}_k$ are each (up to sign) independent of $k$ and $\ell$ and are spanned by eigenvectors for $\tau$ acting on roots corresponding to the largest real eigenvalue and its inverse.
  \end{lemma}
  \begin{proof}
    \cite{Tak94} should be relevant to this.
  \end{proof}

  Let $\TT_n$ denote the $n$-regular labeled tree with root vertex $t_0$.
  Define vertices $t_r\in\TT_n$ for $r\in\ZZ$ by joining $t_{r-1}$ to $t_r$ by an edge labeled $\ell$ if $r\equiv_n\ell$.
  Since $1,\ldots,n$ is source adapted, this labels preprojective seeds by negative integers and postinjective seeds by positive integers.
  Write $\tilde B^{t_r}$ for the extended exchange matrix associated to the seed at $t_r$.
  \begin{lemma}
    \label{lem:transjective exchange matrices}
    For $r\in\ZZ$ with $r=ns+\ell$ for $1\le \ell \le n$, the matrix $\tilde B^{t_r}$ has principal part given by $b^{t_r}_{ij}=(-1)^{\epsilon(i,\ell)+\epsilon(j,\ell)}b_{ij}$ for $\epsilon(i,j)=\begin{cases} 1 & \text{if $i\le j$;}\\ 0 & \text{otherwise;}\end{cases}$ and the $\bfc$-vector part of the $k$-th column is given by $\bfc^{(r)}_k$ for $1\le k\le n$.
  \end{lemma}
  \begin{proof}
    We work by upward and downward induction on $r$.
    \sayDR{Downward case still needed}
    For $r=0$, we just get $\tilde B$ and the claim clearly holds.
    Assume the claim holds for $r-1$, we show the claim holds for $r$.

    Write $r=ns+\ell$ with $1 \le \ell \le n$.
    Then $\tilde B^{t_r}$ is obtained from $\tilde B^{t_{r-1}}$ by mutation in direction $\ell$.
    By \eqref{eq:matrix mutation}, the mutation $\mu_\ell$ reverses the sign of the $\ell$-th row and column of $\tilde B^{t_{r-1}}$.
    It follows that the principal part of $\tilde B^{t_r}$ is given as follows:
    \begin{itemize}
      \item if $i,j<\ell$, or $i<\ell$ and $j>\ell$, or $i<\ell$ and $j>\ell$, then 
        \[
          b^{t_r}_{ij}=b^{t_{r-1}}_{ij}=(-1)^{\epsilon(i,\ell-1)+\epsilon(j,\ell-1)}b_{ij}=(-1)^{\epsilon(i,\ell)+\epsilon(j,\ell)}b_{ij};
        \]
      \item if $i=\ell$ or $j=\ell$, then $(-1)^{\epsilon(i,\ell)+\epsilon(j,\ell)}b_{ij}=-(-1)^{\epsilon(i,\ell-1)+\epsilon(j,\ell-1)}b_{ij}$;
        \[
          b^{t_r}_{ij}=-b^{t_{r-1}}_{ij}=-(-1)^{\epsilon(i,\ell-1)+\epsilon(j,\ell-1)}b_{ij}=(-1)^{\epsilon(i,\ell)+\epsilon(j,\ell)}b_{ij};
        \]
    \end{itemize}
    in each case we obtain the desired expression.
    In addition, we see that the $\ell$-th $\bfc$-vector is given by $-\bfc^{(r-1)}_\ell=\bfc^{(r)}_\ell$ as desired.

    ***The next part needs adjustment since the source-sink convention changed***

    By Lemma~\ref{lem:tropical signs}, the $\ell$-th $\bfc$-vector of $\tilde B^{t_{r-1}}$ is non-negative.  
    Observe further that vertex $\ell$ being a sink implies that the $\ell$-th row of $\tilde B^{t_{r-1}}$ has non-negative entries, in particular we see that $b^{t_{r-1}}_{\ell k}=b_{\ell k}$ for $\ell<k$ and $b^{t_{r-1}}_{\ell k}=-b_{\ell k}$ for $\ell>k$.
    It then follows from \eqref{eq:matrix mutation} that the $k$-th $\bfc$-vector of $\tilde B^{t_r}$ is given by $\bfc^{(r-1)}_k+b_{\ell k}\bfc^{(r-1)}_\ell$ if $\ell<k$ and by $\bfc^{(r-1)}_k-b_{\ell k}\bfc^{(r-1)}_\ell$ if $\ell>k$.
    Each of these is equal to $\bfc^{(r)}_k$ as desired.
  \end{proof}

  Following Lemma~\ref{lem:preprojective exchange matrices}, we identify $\bfc^{(r)}_k$ with the vector $(b^{t_r}_{ik})$ with $n+1\le i\le 2n$.

  It follows that we may write explicit expressions for the $2n\times 2n$ mutation matrices $E^{t_r}_{k,\varepsilon}$.
  Indeed, taking $r=ns+\ell>n$ with $1 \le \ell \le n$ we get $E^{t_r}_{k,\varepsilon}=(e^{t_r}_{ij})$ with
  \begin{equation}
    \label{eq:postinjective mutation matrices}
    e^{t_r}_{ij}=
    \begin{cases}
      1 & \text{if $i=j\ne k$;}\\
      -1 & \text{if $i=j=k$;}\\
      b_{ik} & \text{if $\varepsilon=-$ and $j=k\le\ell<i$;}\\
      -b_{ik} & \text{if $\varepsilon=-$ and $i<j=k\le\ell$ or $\ell<i<j=k$;}\\
      b_{ik} & \text{if $\varepsilon=+$ and $j=k<i\le\ell$ or $\ell<j=k<i$;}\\
      -b_{ik} & \text{if $\varepsilon=+$ and $i\le\ell<j=k$;}\\
      0 & \text{otherwise;}
    \end{cases}
  \end{equation}
  where the bottom $n$ entries in column $k$ are given as follows:
  \begin{itemize}
    \item if $\varepsilon=+$, we have $\bfc^{(r)}_k$ if $r\equiv_n k$ and zero otherwise;
    \item if $\varepsilon=-$, we have $-\bfc^{(r)}_k$ if $r\not\equiv_n k$ and zero otherwise.
  \end{itemize}

  \begin{remark}
  The result after mutation:
  \[
    \left[\begin{array}{cc|c|cccc}
      0 & - & - & + & + & \cdots & +\\
      + & 0 & - & + & + & \cdots & +\\
      \hline
      + & + & 0 & + & + & \cdots & +\\
      \hline
      - & - & - & 0 & - & \cdots & -\\
      - & - & - & + & 0 & \cdots & -\\
      \vdots & \vdots & \vdots & \vdots & \vdots & \ddots & \vdots\\
      - & - & - & + & + & \cdots & 0
    \end{array}\right]
    \qquad
    \left[\begin{array}{cccc|c|cc}
      0 & \cdots & - & - & + & + & +\\
      \vdots & \ddots & \vdots & \vdots & \vdots & \vdots & \vdots\\
      + & \cdots & 0 & - & + & + & +\\
      + & \cdots & + & 0 & + & + & +\\
      \hline
      - & \cdots & - & - & 0 & - & -\\
      \hline
      - & \cdots & - & - & + & 0 & -\\
      - & \cdots & - & - & + & + & 0
    \end{array}\right]
  \]
  \end{remark}

  For $\lambda\in\ZZ^n$ and $r\in\ZZ_{>0}$ with $r=ns+\ell$ for $1\le\ell\le n$, the tropical transformation $\phi_{t_r}(\lambda)$ is given by
  \[
    E^{t_{r-1}}_{\ell,\varepsilon_r} \cdots E^{t_{r-\ell}}_{1,\varepsilon_{r-\ell+1}} E^{t_{ns-1}}_{n,\varepsilon_{ns}} \cdots E^{t_1}_{2,\varepsilon_2} E^{t_0}_{1,\varepsilon_1} \lambda
  \]
  for a sequence of signs $\varepsilon_1,\ldots,\varepsilon_r$ depending on $\lambda$.
  Similarly, the tropical transformation $\phi_{t_{-r}}(\lambda)$ is given by
  \[
    E^{t_{-r+1}}_{n-\ell+1,\varepsilon_{-r+1}} \cdots E^{t_{-r+\ell}}_{n,\varepsilon_{-r+\ell}} E^{t_{-ns+1}}_{1,\varepsilon_{-ns+1}} \cdots E^{t_{-1}}_{n-1,\varepsilon_{-1}} E^{t_0}_{n,\varepsilon_0} \lambda
  \]
  for a sequence of signs $\varepsilon_{-1},\ldots,\varepsilon_{-r}$ depending on $\lambda$.
  \begin{lemma}
    \label{lem:imaginary mutations}
    If $\lambda\in\ZZ^n$ is imaginary, then every sign $\varepsilon_r$ with $r>0$ above is equal to $+$ and every sign $\varepsilon_r$ with $r<0$ above is equal to $-$.
  \end{lemma}
  \begin{proof}
    With $1,\ldots,n$ being source adapted, these sign choices give the most complicated transformation at each step.
    That should mean that $\lambda$ is sufficiently far from the initial chamber and remains there under all mutations.
  \end{proof}

  Using this we explicitly compute the action of $\phi_{t_r}$ on $\bfg$-vectors. 
  For a $\bfg$-vector $\lambda\in\ZZ^n$, write $\tilde\lambda\in\ZZ^{2n}$ for its extension by zeros.

  Given a sequence of signs $\beps=(\varepsilon_1,\varepsilon_2,\ldots,\varepsilon_r)$ with $\varepsilon_i\in\{\pm\}$, define a quiver $Q^{(r)}_\beps$ with vertices 
  \[\{(\ell,s)\in [n]\times\ZZ_{\ge0}:ns+\ell\le n+r\}\cup\{(n+k,0):1\le k\le n\}\]
  and having the following arrows:
  \begin{itemize}
    \item an arrow $(\ell,s)\to (k,s)$ of weight $b_{k\ell}$ whenever $\ell<k$, $ns+\ell\le r$, and $\varepsilon_{ns+\ell}=+$;
    \item an arrow $(\ell,s)\to (k,s+1)$ of weight $-b_{k\ell}$ whenever $k<\ell$, $ns+\ell\le r$, and $\varepsilon_{ns+\ell}=+$;
    \item an arrow $(\ell,s)\to (\ell,s+1)$ of weight $-1$ whenever $ns+\ell\le r$;
    \item an arrow $(\ell,s)\to (n+k,0)$ of weight $\varepsilon_{ns+\ell}\bfc^{(ns+\ell)}_{k\ell}$ whenever $\varepsilon_{ns+\ell}=\sgn(\bfc^{(ns+\ell)}_{k\ell})$.
  \end{itemize}
  For $1\le\ell\le r$, write $\hat{\ell}$ for the vertex $(\ell,s)$ of $Q^{(r)}_\beps$ with $s$ maximal.
  Below we freely identify each vertex $(\ell,0)$ with $\ell$ itself.

  Given a sequence of signs $\beps=(\varepsilon_0,\varepsilon_{-1},\varepsilon_{-2},\ldots,\varepsilon_{-r+1})$ with $\varepsilon_i\in\{\pm\}$, define a quiver $Q^{(-r)}_\beps$ with vertices 
  \[\{(\ell,s)\in [n]\times\ZZ_{<0}:-n-r<ns+\ell\}\cup\{(n+k,-1):1\le k\le n\}\]
  and having the following arrows:
  \begin{itemize}
    \item an arrow $(\ell,s)\to (k,s)$ of weight $-b_{k\ell}$ whenever $k<\ell$, $-r<ns+\ell$, and $\varepsilon_{ns+\ell}=-$;
    \item an arrow $(\ell,s)\to (k,s-1)$ of weight $b_{k\ell}$ whenever $\ell<k$, $-r<ns+\ell$, and $\varepsilon_{ns+\ell}=-$;
    \item an arrow $(\ell,s)\to (\ell,s-1)$ of weight $-1$ whenever $-r<ns+\ell$.
    \item an arrow $(\ell,s)\to (n+k,-1)$ of weight $\varepsilon_{ns+\ell}\bfc^{(ns+\ell)}_{k\ell}$ whenever $\varepsilon_{ns+\ell}=\sgn(\bfc^{(ns+\ell)}_{k\ell})$.
  \end{itemize}
  For $1\le\ell\le r$, write $\check{\ell}$ for the vertex $(\ell,s)$ of $Q^{(r)}_\beps$ with $s$ minimal.
  Below we freely identify each vertex $(\ell,-1)$ with $\ell$ itself.

  Given a path $\fp\subset Q^{(\pm r)}_\beps$, write $\wt(\fp)$ for the product of the weights along the arrows in $\fp$.
  Let $i(\fp)$ and $t(\fp)$ denote the initial and terminal vertex along the path $\fp$.
  Below we only consider paths $\fp\subset Q^{(r)}_\beps$ with $i(\fp)=(\ell,0)$ for some $\ell$ and paths $\fp\subset Q^{(-r)}_\beps$ with $i(\fp)=(\ell,-1)$ for some $\ell$.
  \begin{proposition}
    Consider $r>0$ with $r=ns+\ell$ for $1\le\ell\le n$.
    \begin{enumerate}
      \item For $\lambda\in\ZZ^n$, suppose the tropical transformation $\phi_{t_r}(\tilde\lambda)=(\lambda'_1,\ldots,\lambda'_n,\lambda'_{n+1},\cdots,\lambda'_{2n})$ is given by
        \[
          E^{t_{r-1}}_{\ell,\varepsilon_r} \cdots E^{t_{r-\ell}}_{1,\varepsilon_{r-\ell+1}} E^{t_{ns-1}}_{n,\varepsilon_{ns}} \cdots E^{t_1}_{2,\varepsilon_2} E^{t_0}_{1,\varepsilon_1} \lambda
        \]
        with the signs $\beps=(\varepsilon_1,\cdots,\varepsilon_r)$ determined by $\lambda$.
        Then, for $1\le k\le 2n$, we have
        \[
          \lambda'_k=\sum\limits_{\fp\subset Q^{(r)}_\beps\!,\, t(\fp)=\hat{k}} \wt(\fp)\lambda_{i(\fp)}.
        \]
      \item For $\lambda\in\ZZ^n$, suppose the tropical transformation $\phi_{t_{-r}}(\tilde\lambda)=(\lambda'_1,\ldots,\lambda'_n,\lambda'_{n+1},\cdots,\lambda'_{2n})$ is given by
        \[
          E^{t_{-r+1}}_{n-\ell+1,\varepsilon_{-r+1}} \cdots E^{t_{-r+\ell}}_{n,\varepsilon_{-r+\ell}} E^{t_{-ns+1}}_{1,\varepsilon_{-ns+1}} \cdots E^{t_{-1}}_{n-1,\varepsilon_{-1}} E^{t_0}_{n,\varepsilon_0} \lambda
        \]
        with the signs $\beps=(\varepsilon_0,\varepsilon_{-1},\cdots,\varepsilon_{-r+1})$ determined by $\lambda$.
        Then, for $1\le k\le 2n$, we have
        \[
          \lambda'_k=\sum\limits_{\fp\subset Q^{(-r)}_\beps\!,\, t(\fp)=\check{k}} \wt(\fp)\lambda_{i(\fp)}.
        \]
    \end{enumerate}
  \end{proposition}
  \begin{proof}
    We work by induction on $r$.
    Write $r=ns+\ell$.
    From Lemma~\ref{lem:transjective exchange matrices} and Lemma~\ref{lem:tropical signs}, we see that the $\ell$-th column of $\tilde B^{t_{r-1}}$ has the first $n$ entries non-negative and the last $n$ entries non-positive.

    Writing $\phi_{t_{r-1}}(\tilde\lambda)=(\lambda''_1,\ldots,\lambda''_{2n})$ we also see from Lemma~\ref{lem:transjective exchange matrices} that $\phi_{t_r}(\tilde\lambda)=E^{t_{r-1}}_{\ell,\varepsilon_r}\phi_{t_{r-1}}(\tilde\lambda)$ is given by
    \[
      \begin{cases}
        (\lambda''_1-b_{1\ell}\lambda''_\ell,\ldots,\lambda''_{\ell-1}-b_{\ell-1,\ell}\lambda''_\ell,-\lambda''_\ell,\lambda''_{\ell+1}+b_{\ell+1,\ell}\lambda''_\ell,\ldots,\lambda''_n+b_{n\ell}\lambda''_\ell,\lambda''_{n+1},\ldots,\lambda''_{2n}) & \text{if $\varepsilon_r=+$;}\\
        (\lambda''_1,\ldots,\lambda''_{\ell-1},-\lambda''_\ell,\lambda''_{\ell+1},\ldots,\lambda''_n,\lambda''_{n+1}-b^{t_{r-1}}_{n+1,\ell}\lambda''_\ell,\ldots,\lambda''_{2n}-b^{t_{r-1}}_{2n,\ell}\lambda''_\ell) & \text{if $\varepsilon_r=-$.}\\
      \end{cases}
    \]
  \end{proof}

\bibliographystyle{amsalpha}
\bibliography{bibliography}  

\end{document}
